# Ticket Quality Score Dashboard - QA Test Suite

Comprehensive E2E test suite for the Customer Service Ticket Quality Score Dashboard using Playwright.

## Overview

This repository contains 20 end-to-end tests covering:
- **Slider Interaction**: Verify sliders respond to user input and update display values
- **Lock Mechanism**: Ensure metrics can be locked to prevent accidental changes
- **Display Accuracy**: Validate chart rendering and score display
- **Persistence**: Confirm user preferences (slider positions, locks) survive page reload
- **Responsive Design**: Test functionality across desktop, tablet, and mobile viewports

## Quick Start

### Prerequisites
- Node.js 18+ installed
- npm installed

### Installation

```bash
# Clone the repository
git clone https://github.com/your-username/ticket-dashboard-tests.git
cd ticket-dashboard-tests

# Install dependencies
npm install

# Install Playwright browsers
npx playwright install
```

### Running Tests

```bash
# Run all tests
npx playwright test

# Run tests in headed mode (see browser)
npx playwright test --headed

# Run specific test file
npx playwright test tests/dashboard.spec.ts

# Run tests with UI mode (interactive)
npx playwright test --ui

# View test report
npx playwright show-report
```

## Test Coverage

### 20 Tests Organized by Functionality

**Slider Interaction (5 tests)**
- Slider responds to user input and updates display
- All three metric sliders visible and functional
- Sliders have correct range (0-100)
- Slider handles minimum value (0)
- Slider handles maximum value (100)

**Lock Mechanism (5 tests)**
- Lock button disables corresponding slider
- Lock button shows visual locked state
- Unlocking re-enables the slider
- Multiple metrics can be locked independently
- Locked state persists after page reload

**Display & Chart (4 tests)**
- Dashboard displays overall quality score
- Chart renders with data points
- Chart has title
- Tooltip appears on chart hover

**Persistence (3 tests)**
- Slider positions persist after reload
- Lock state persists after reload
- Multiple locked metrics persist after reload

**Responsive Design (3 tests)**
- Dashboard renders on mobile (375x667)
- Dashboard renders on tablet (768x1024)
- All metric labels visible

**Edge Cases (1 test)**
- Rapid slider changes handled smoothly

## Project Structure

```
ticket-dashboard-tests/
├── tests/
│   └── dashboard.spec.ts          # All 20 E2E tests
├── playwright.config.ts            # Playwright configuration
├── package.json                    # Dependencies
├── README.md                       # This file
└── TESTING_STRATEGY.md            # High-level testing strategy
```

## Configuration

### Playwright Config

Tests are configured to run against a local dashboard file. Update the path in `tests/dashboard.spec.ts` if your dashboard is located elsewhere:

```typescript
await page.goto('file:///Users/YOUR_USERNAME/Documents/dashboard.html');
```

## Viewing Results

After running tests, view the HTML report:

```bash
npx playwright show-report
```

## CI/CD Integration

### GitHub Actions Example

Create `.github/workflows/test.yml`:

```yaml
name: Test
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: 18
      - run: npm ci
      - run: npx playwright install --with-deps
      - run: npx playwright test
      - uses: actions/upload-artifact@v3
        if: always()
        with:
          name: playwright-report
          path: playwright-report/
          retention-days: 30
```

## Test Strategy

For the high-level testing strategy, scaling approach, and tool selection rationale, see [TESTING_STRATEGY.md](TESTING_STRATEGY.md).

## Troubleshooting

**Tests not found**
```bash
# Verify Playwright is installed
npm list @playwright/test

# Reinstall if needed
npm install --save-dev @playwright/test
```

**Dashboard file not found**
- Update the file path in `tests/dashboard.spec.ts` to match your dashboard location
- Use absolute paths (e.g., `/Users/username/Documents/dashboard.html`)

**Port already in use**
- Playwright runs tests in headless mode by default
- No port configuration needed for local file testing

## Next Steps

1. **Clone this repository** and update the dashboard path
2. **Run tests locally** to verify setup: `npx playwright test`
3. **Integrate into CI/CD** using the GitHub Actions example above
4. **Add to pull request checks** to block merges with failing tests
5. **Monitor test results** over time to catch regressions early

## Support

For issues or questions about the test suite:
1. Check the Playwright documentation: https://playwright.dev
2. Review test output with `--debug` flag: `npx playwright test --debug`
3. Use Playwright Inspector for interactive debugging

## License

MIT
